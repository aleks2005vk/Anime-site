/* Home.css — изменения: светлее overlay, компактнее баннер, meta в колонку */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=Bebas+Neue&display=swap');

:root{
  --bg-primary:#0b0b10;
  --bg-secondary:#14141a;
  --bg-tertiary:#1f1f27;
  --card-bg:#14141b;
  --card-hover:#262635;
  --text-primary:#f4f5f8;
  --text-secondary:#9aa0b2;
  --accent-1:#8a2ce2;
  --accent-2:#5e17a8;
  --accent-gradient:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  --announcement-overlay: 0.48; /* контролирует темноту баннера (0..1) */
  --transition: 300ms cubic-bezier(.2,.9,.3,1);
}

/* Светлая тема */
[data-theme="light"] {
  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f7;
  --bg-tertiary: #e8e8ed;
  --card-bg: #f8f9fa;
  --card-hover: #e9ecef;
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --accent-1: #8a2ce2;
  --accent-2: #5e17a8;
  --accent-gradient: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  --announcement-overlay: 0.28;
}

/* общий стиль */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; 
  background: radial-gradient(1200px 600px at 10% 10%, rgba(138,44,226,0.05), transparent 8%), var(--bg-primary); 
  color:var(--text-primary); 
  -webkit-font-smoothing:antialiased;
  transition: background-color var(--transition), color var(--transition);
}
.content{max-width:1400px;margin:0 auto;padding:24px 32px}

/* Баннер */
.announcement{
  position:relative;
  height:420px;
  border-radius:16px;
  padding:36px;
  overflow:hidden;
  background-size: 120% auto;
  background-position: center right;
  background-repeat:no-repeat;
  box-shadow:0 22px 48px rgba(6,6,8,0.7);
  transition:var(--transition);
  display:flex;
  align-items:flex-end;
  min-height:300px;
  image-rendering: optimizeQuality;
}

.announcement::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(90deg,
    rgba(0,0,0, calc(var(--announcement-overlay) * 0.95)) 0%,
    rgba(0,0,0, calc(var(--announcement-overlay) * 0.72)) 24%,
    rgba(0,0,0, calc(var(--announcement-overlay) * 0.45)) 44%,
    rgba(0,0,0, 0) 72%);
  z-index:1;
  pointer-events:none;
}

.announcement::after{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(760px 240px at 14% 20%, rgba(138,44,226,0.04), transparent 12%);
  z-index:1;
  pointer-events:none;
}

.announcement-content{position:relative;z-index:2;max-width:720px;animation:fadeInUp 700ms ease both}
.title{font-family:'Bebas Neue', Inter, sans-serif;font-size:2.6rem;font-weight:700;color:var(--text-primary);letter-spacing:1px;line-height:1.02;text-shadow:0 6px 22px rgba(0,0,0,0.55);margin-bottom:10px}
.description{font-size:1.02rem;color:var(--text-secondary);line-height:1.6;font-weight:600;max-width:70%}
.cta-button{margin-top:14px;background:var(--accent-gradient);padding:10px 24px;border-radius:999px;color:white;border:none;font-weight:800;cursor:pointer;box-shadow:0 10px 32px rgba(74,23,168,0.16);transition:var(--transition)}
.cta-button:hover{transform:translateY(-3px);box-shadow:0 14px 40px rgba(74,23,168,0.28)}

/* Новые аниме */
.new-anime{margin-top:26px}
.section-title{font-family:'Bebas Neue', Inter, sans-serif;font-size:2rem;color:var(--text-primary);margin-bottom:14px}

/* Swiper tweaks */
.swiper{padding:16px 6px 36px}
.swiper-slide-custom{display:flex;justify-content:center;align-items:flex-start;height:100%}

/* Карточка */
.anime-card{
  width:100%;
  max-width:250px;
  height:380px;
  border-radius:14px;
  overflow:hidden;
  background: var(--card-bg);
  border:1px solid rgba(255,255,255,0.1);
  box-shadow:0 12px 28px rgba(0,0,0,0.15);
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition), border-color var(--transition);
  display:flex;
  flex-direction:column;
  cursor:pointer;
}

[data-theme="light"] .anime-card {
  background: var(--card-bg);
  border:1px solid rgba(0,0,0,0.08);
  box-shadow:0 8px 24px rgba(0,0,0,0.08);
}

.anime-card:hover{transform:translateY(-12px) scale(1.01);box-shadow:0 24px 56px rgba(0,0,0,0.2)}
.anime-card.is-new{outline: 1px solid rgba(138,44,226,0.10)}

/* Обложка картинки */
.image{height:280px;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))}
.anime-img{width:100%;height:100%;object-fit:cover;object-position:center center;display:block;transition:transform 700ms cubic-bezier(.2,.9,.3,1)}
.anime-card:hover .anime-img{transform:scale(1.08) translateY(-4px)}

/* NEW badge */
.badge-new{position:absolute;left:12px;top:12px;background:var(--accent-gradient);padding:6px 10px;border-radius:999px;color:white;font-weight:800;font-size:0.78rem;box-shadow:0 8px 22px rgba(138,44,226,0.12);z-index:6}

/* Инфо */
.info{padding:14px;display:flex;flex-direction:column;flex:1;justify-content:space-between}
.anime-title{font-size:1rem;font-weight:800;color:var(--text-primary);margin:0;line-height:1.22;display:-webkit-box;-webkit-line-clamp:2;line-clamp: 2;-webkit-box-orient:vertical;overflow:hidden}

/* card-meta */
.card-meta{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.episode-count{font-size:0.92rem;color:var(--text-secondary);font-weight:700}
.anime-year{font-size:0.9rem;color:var(--text-secondary);font-weight:700}
.rating-row{margin-top:2px}

/* main content */
.main-content{display:flex;gap:30px;margin-top:28px}
.extra-content{flex:1;background:var(--bg-tertiary);padding:20px;border-radius:12px;box-shadow:0 10px 26px rgba(2,2,6,0.3);transition: background var(--transition)}
.updates{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
.update-card{height:160px;border-radius:12px;background:var(--card-bg);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--text-primary);box-shadow:0 8px 28px rgba(0,0,0,0.1);transition:var(--transition);border:1px solid rgba(255,255,255,0.05)}
.update-card:hover{transform:translateY(-6px)}

[data-theme="light"] .update-card {
  background: var(--card-bg);
  border:1px solid rgba(0,0,0,0.05);
  box-shadow:0 4px 16px rgba(0,0,0,0.08);
}

/* watched list */
.watched-anime{width:360px;background:var(--bg-tertiary);padding:22px;border-radius:14px;box-shadow:0 12px 30px rgba(2,2,6,0.3);transition: background var(--transition)}
.watched-circle{width:52px;height:52px;border-radius:50%;background:var(--accent-gradient);display:flex;align-items:center;justify-content:center;color:white;font-weight:900}
.watched-item{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;background:var(--card-bg);transition:var(--transition);border:1px solid rgba(255,255,255,0.05)}
.watched-item:hover{transform:translateX(6px);background:var(--card-hover)}
.watched-info h3{font-weight:800;font-size:0.98rem}
.watched-info p{color:var(--text-secondary);font-size:0.88rem}

[data-theme="light"] .watched-item {
  border:1px solid rgba(0,0,0,0.05);
}

/* chat */
.chat{height:420px;border-radius:12px;overflow:hidden}
.chat-header{background:var(--accent-gradient);color:white;padding:12px 16px;font-weight:800}
.chat-messages{background:var(--card-bg);padding:14px;overflow:auto;transition: background var(--transition)}

/* анимации */
@keyframes fadeInUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:none}}

/* HERO SLIDER */
.hero-wrapper {
  width: 100%;
  margin-bottom: 28px;
}

.hero-swiper {
  width: 100%;
  height: 420px;
}

@media (min-width: 1200px) {
  .hero-swiper { height: 520px; }
}

.hero-slide {
  display: flex;
  align-items: flex-end;
  background-size: cover;
  background-position: center;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  overflow: hidden;
}

.hero-content {
  padding: 28px;
  max-width: 720px;
  color: #fff;
  text-shadow: 0 2px 8px rgba(0,0,0,0.6);
}

.hero-title {
  font-size: 2rem;
  margin: 0 0 10px 0;
  line-height: 1.05;
}

@media (min-width: 900px) {
  .hero-title { font-size: 2.6rem; }
}

.hero-desc {
  font-size: 1rem;
  max-height: 6.2em;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 14px;
}

.hero-actions { margin-top: 8px; }

.hero-cta {
  display: inline-block;
  padding: 10px 18px;
  border-radius: 8px;
  background: var(--accent-1);
  color: #fff;
  text-decoration: none;
  font-weight: 600;
}

/* placeholder */
.hero-slide--placeholder {
  background: linear-gradient(135deg, #222, #444);
  justify-content: center;
  align-items: center;
}
